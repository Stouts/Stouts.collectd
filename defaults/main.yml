---

collectd_enabled: yes               # Enable the role
collectd_version: 5.5.2             # Set version
#collectd_service: upstart
#collectd_service_autodetect: true   # try to detect collectd_service

# PPA options
collectd_method: pkg                # method to install collectd (yum, ppa, or src, or pkg)
collectd_use_pkg_latest: yes         # Don't fix package version to collectd_version
collectd_ppa_source: #'ppa:collectd/collectd-5.5'

# Source options
collectd_prefix: /opt/collectd      # The place where Collectd will be installed
collectd_prefix_type: "{{collectd_prefix}}/etc"
collectd_prefix_conf: "{{collectd_prefix}}/etc"
collectd_prefix_sbin: "{{collectd_prefix}}/sbin"
collectd_plugins_prefix: "{{collectd_prefix_conf}}/conf.d"

# General options
collectd_interval: 10
collectd_readthreads: 7
collectd_hostname: #"{{ inventory_hostname }}"
collectd_fdqnlookup: false

# Collectd plugins
collectd_plugins: []                # Ex. [nginx, memcached]
collectd_plugins_options: {}        # See below for examples.

# Collectd default plugins
collectd_default_plugins: [cpu, df, interface, load, memory, swap, disk]
collectd_default_plugins_options:
  swap:
    ReportByDevice: false
  interface:
    Interface: lo
    IgnoreSelected: true
  write_graphite:
    Host: "{{inventory_hostname}}"
    Port: 2003
    Prefix: ""
    # Postfix: .collectd
    Protocol: tcp
    AlwaysAppendDS: 'false'
    EscapeCharacter: _
    LogSendErrors: 'true'
    StoreRates: 'true'

# Additional types
# format: { name: ..., value: ... }
collectd_types: []

# Setup logs
collectd_logpath:                   # If it is not empty, will be used logfile
collectd_loglevel: info
collectd_logrotate: yes
collectd_type: yes
collectd_logrotate_options:
  - compress
  - copytruncate
  - daily
  - dateext
  - rotate 7
  - size 10M

# Paths
collectd_types_db_path: "{{ '/usr/share/collectd/types.db' if collectd_method != 'src' else collectd_prefix + '/share/collectd/types.db' }}"
collectd_additional_types_db_path: "{{ '/usr/share/collectd/additional-types.db' if collectd_method != 'src' else collectd_prefix_type + '/types.db' }}"
collectd_sbin_path: "{{ '/usr/sbin' if collectd_method != 'src' else collectd_prefix_sbin }}"

#set by filesystem defaults
collectd_config_file:
collectd_config_dir:
collectd_plugins_dir:
