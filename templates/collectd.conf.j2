# This file was generated by Ansible for {{ansible_fqdn}}
# Do NOT modify this file by hand!

# General options
Interval     {{ collectd_interval }}
ReadThreads  {{ collectd_readthreads }}
TypesDB "{{collectd_additional_types_db_path}}"
TypesDB "{{collectd_types_db_path}}"
{% if collectd_hostname %}Hostname {{ collectd_hostname }}
{% endif %}
FQDNLookup {{ 'true' if collectd_fdqnlookup else 'false' }}

# Logging
{% if collectd_logpath %}
LoadPlugin logfile
<Plugin logfile>
        LogLevel "{{collectd_loglevel}}"
        File "{{collectd_logpath}}"
        Timestamp true
</Plugin>
{% else %}
LoadPlugin syslog
<Plugin syslog>
        LogLevel "{{collectd_loglevel}}"
        NotifyLevel "OKAY"
</Plugin>
{% endif %}

# Plugins
{% for plugin in collectd_plugins_combined %}
LoadPlugin {{ plugin }}
{% if collectd_plugins_options_combined.get(plugin) %}
<Plugin {{plugin}}>
{% if plugin == 'write_graphite' %}
 <Node "1">
{% endif %}
{% for name, value in collectd_plugins_options_combined[plugin].items() %}
{% if value | lower in ['true', 'false'] %}
	{{name}} {{value}}
{% else %}
	{{name}} "{{value}}"
{% endif %}
{% endfor %}
{% if plugin == 'write_graphite' %}
 </Node>
{% endif %}
</Plugin>
{% endif %}
{% endfor %}

<Include "{{collectd_config_dir}}">
        Filter "*.conf"
</Include>
